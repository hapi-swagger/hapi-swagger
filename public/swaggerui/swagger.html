<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <title>Documentation</title>
    <link href='https://fonts.googleapis.com/css?family=Droid+Sans:400,700' rel='stylesheet' type='text/css' />
    <link href='{{hapiSwagger.endpoint}}/swaggerui/css/highlight.default.css' media='screen' rel='stylesheet' type='text/css' />
    <link href='{{hapiSwagger.endpoint}}/swaggerui/css/screen.css' media='screen' rel='stylesheet' type='text/css' />
    <script src="{{hapiSwagger.endpoint}}/swaggerui/lib/shred.bundle.js" type="text/javascript"></script>
    <script src='{{hapiSwagger.endpoint}}/swaggerui/lib/jquery-1.8.0.min.js' type='text/javascript'></script>
    <script src='{{hapiSwagger.endpoint}}/swaggerui/lib/jquery.slideto.min.js' type='text/javascript'></script>
    <script src='{{hapiSwagger.endpoint}}/swaggerui/lib/jquery.wiggle.min.js' type='text/javascript'></script>
    <script src='{{hapiSwagger.endpoint}}/swaggerui/lib/jquery.ba-bbq.min.js' type='text/javascript'></script>
    <script src='{{hapiSwagger.endpoint}}/swaggerui/lib/handlebars-1.0.0.js' type='text/javascript'></script>
    <script src='{{hapiSwagger.endpoint}}/swaggerui/lib/underscore-min.js' type='text/javascript'></script>
    <script src='{{hapiSwagger.endpoint}}/swaggerui/lib/backbone-min.js' type='text/javascript'></script>
    <script src='{{hapiSwagger.endpoint}}/swaggerui/lib/swagger.js' type='text/javascript'></script>
    <script src='{{hapiSwagger.endpoint}}/swaggerui/swagger-ui.js' type='text/javascript'></script>
    <script src='{{hapiSwagger.endpoint}}/swaggerui/lib/highlight.7.3.pack.js' type='text/javascript'></script>
    <script src='{{hapiSwagger.endpoint}}/custom.js' type='text/javascript'></script>
    <script type="text/javascript">
    $(function() {


        // build url for JSON url that describes API
        var url = window.location.protocol + '//' + window.location.host + '{{hapiSwagger.endpoint}}';
        if(getQueryStringValue('tags')){
            url += '?tags=' + getQueryStringValue('tags');
        }


        // build the swagger UI interface
        window.swaggerUi = new SwaggerUi({
            url: url,
            dom_id: "swagger-ui-container",
            supportedSubmitMethods: ['get', 'post', 'put', 'delete', 'patch', 'option'],
            onComplete: function(swaggerApi, swaggerUi) {
                log("Loaded SwaggerUI")
                $('pre code').each(function(i, e) {
                    hljs.highlightBlock(e)
                });

                $('.response_throbber').attr( 'src', '{{hapiSwagger.endpoint}}/swaggerui/images/throbber.gif' );
            },
            onFailure: function(data) {
                log("Unable to Load SwaggerUI");
            },
            docExpansion: "list"
        });
        window.swaggerUi.load();




        // get the value of a querystring in this case for 'tags'
        function getQueryStringValue(name){
            var nameValue = null,
                winURL = window.location.href;

            if(winURL && winURL.indexOf('?') > -1){
                var queryStringArray = winURL.split("?")[1];
                queryStringParamArray = [queryStringArray]
                if(queryStringArray.indexOf('&') > -1){
                    queryStringParamArray = queryStringArray[1].split("&");
                }
                for ( var i=0; i<queryStringParamArray.length; i++ ){           
                    queryStringNameValueArray = queryStringParamArray[i].split("=");
                    if ( name == queryStringNameValueArray[0] ){
                        nameValue = queryStringNameValueArray[1];
                    }                       
                }
                return nameValue;
            }
            return nameValue;
        }


    });
    </script>
</head>
<body>
    <div class="wrapper">

        <div id='header'>
          <div class="swagger-ui-wrap">
            <a id="logo" href="http://swagger.io">swagger</a>
          </div>
        </div>

        <section id="swagger">
            <div id="message-bar" class="swagger-ui-wrap"></div>
            <div id="swagger-ui-container" class="swagger-ui-wrap"></div>
        </section>

    </div>
</body>
</html>
